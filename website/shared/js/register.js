$(document).ready(function(){var g=0;var d=0;var h=0;var e=0;var a=false;var f=false;var c=false;var j=function(q){var n=false;var o=false;if(typeof(RegExp)=="function"){var m=new RegExp("abc");if(m.test("abc")){n=true}}if(n){var p=new RegExp("^([a-zA-Z0-9\\-\\.\\_]+)(\\@)([a-zA-Z0-9\\-\\.]+)(\\.)([a-zA-Z]{2,4})$");o=(p.test(q))}else{o=(q.search("@")>=1&&q.lastIndexOf(".")>q.search("@")&&q.lastIndexOf(".")>=q.length-5)}return(o)};var i=function(m,n){if(m.firstChild){m.replaceChild(n,m.firstChild)}else{m.appendChild(n)}};var k=function(){var p=$("#username")[0].value;var m=$("#check_username")[0];var n=$("#submit");if(p.length<5){i(m,document.createTextNode((cur_lang=="de"?"Name ist zu kurz":"Name is too short")));a=false;n.className="disabled";n.disabled=true;return true}else{if(p.length>32){i(m,document.createTextNode((cur_lang=="de"?"Name ist zu lang":"Name is too long")));a=false;n.addClass("disabled");n[0].disabled=true;return true}}g++;var o=url+"/community/account/func.register.php?action=check_user&value="+encodeURIComponent(p)+"&cnt="+g;$.ajax({url:o,type:"get",dataType:"script",success:function(t){var q=$("#check_username")[0];var r=$("#submit");var s=t.split("|");s[0]=parseInt(s[0]);if(s[0]<d){return false}d=s[0];if(s[1]==1){i(q,document.createTextNode((cur_lang=="de"?"Name ist in Ordnung":"Name is okay")));a=true;if(f&&c){r.removeClass("disabled");r[0].disabled=false}}else{i(q,document.createTextNode((cur_lang=="de"?"Name ist vergeben":"Name is taken")));a=false;r.addClass("disabled");r[0].disabled=true}}})};$("#username").change(k);$("#username").keyup(k);var l=function(){var n=$("#email")[0].value;var m=$("#check_email")[0];var o=$("#submit");if(!j(n)){i(m,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist ungültig":"E-Mail address is invalid")));f=false;o.addClass("disabled");o[0].disabled=true;return true}h++;var p=url+"/community/account/func.register.php?action=check_email&value="+encodeURIComponent(n)+"&cnt="+h;$.ajax({url:p,type:"get",dataType:"script",success:function(t){var q=$("#check_email")[0];var r=$("#submit");var s=t.split("|");s[0]=parseInt(s[0]);if(s[0]<e){return false}e=s[0];if(s[1]==1){i(q,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist in Ordnung":"E-Mail address is okay")));f=true;if(a&&c){r.removeClass("disabled");r[0].disabled=false}}else{i(q,document.createTextNode((cur_lang=="de"?"E-Mail Adresse ist vergeben":"E-Mail address is taken")));f=false;r.addClass("disabled");r[0].disabled=true}}})};$("#email").change(l);$("#email").keyup(l);var b=function(){var n=$("#submit");var p=$("#passwd").val();var o=$("#passwd2").val();var m=$("#check_passwd")[0];if(p.length===0){return true}else{if(p.length<5){i(m,document.createTextNode((cur_lang=="de"?"Passwort ist zu kurz":"Password is too short")));n.addClass("disabled");n[0].disabled=true}else{if(p.length>20){i(m,document.createTextNode((cur_lang=="de"?"Passwort ist zu lang":"Password is too long")));n.addClass("disabled");n[0].disabled=true}else{if(p==o){i(m,document.createTextNode((cur_lang=="de"?"Passwort ist in Ordnung":"Password is okay")));n.removeClass("disabled");n[0].disabled=false}else{i(m,document.createTextNode((cur_lang=="de"?"Passwörter sind nicht identisch":"Passwords are not identical")));n.addClass("disabled");n.disabled=true}}}}};$("#passwd").change(b);$("#passwd").keyup(b);$("#passwd2").change(b);$("#passwd2").keyup(b)});